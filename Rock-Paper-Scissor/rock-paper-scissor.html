<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissor</title>
</head>
<body>
    <p>Rock Paper Scissor</p>

    <button onclick="playGame('rock')">Rock</button>
    <button onclick="playGame('paper')">Paper</button>
    <button onclick="playGame('scissors')">Scissor</button>
    <button onclick="localStorage.removeItem('score'); location.reload();">Reset Score</button>

    <script>
        // Resetting your Win, Losses, Ties
    let score = localStorage.getItem('score');
    if (score) {
        score = JSON.parse(score); // converting the string into object
    } else {
        score = {
            wins: 0,
            losses: 0,
            ties: 0
        };
    }

    function playGame(playerMove) {
        const randomNumber = Math.random();

        let computerMove = '';
        if (randomNumber >= 0 && randomNumber < 1 / 3) {
            computerMove = 'rock';
        } else if (randomNumber >= 1 / 3 && randomNumber < 2 / 3) {
            computerMove = 'paper';
        } else {
            computerMove = 'scissors';
        }

        let result = '';
        if (playerMove === computerMove) {
            result = 'Tie.';
        } else if (
            (playerMove === 'rock' && computerMove === 'scissors') ||
            (playerMove === 'paper' && computerMove === 'rock') ||
            (playerMove === 'scissors' && computerMove === 'paper')
        ) {
            result = 'You win.';
        } else {
            result = 'You lose.';
        }

        // Updating the Win, Losses, Tie Value

        if (result === 'You win.') {
            score.wins += 1;
        } else if (result === 'You lose.') {
            score.losses +=1;
        } else if (result === 'Tie.') {
            score.ties += 1;
        }

        // Storing Scores in a local storage support only a string

        localStorage.setItem('score', JSON.stringify(score)); // JSON.stringify will convert it into a string

        alert(`You picked ${playerMove}. 
        Computer picked ${computerMove}. ${result}
        Wins: ${score.wins},
        Losses: ${score.losses},
        Ties: ${score.ties}
        `);
    }
    </script>
</body>
</html>